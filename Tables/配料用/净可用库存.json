{
  "Name": "净可用库存",
  "Columns": [
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "cBatch",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "cWhCode",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "datetime",
      "MaxLength": -1,
      "Name": "dVDate",
      "ColumnType": "System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "cInvCode",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "iquantity",
      "ColumnType": "System.Double, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "int",
      "MaxLength": -1,
      "Name": "AutoID",
      "ColumnType": "System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "inum",
      "ColumnType": "System.Double, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "实际库存",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "实际件数",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "合计占用",
      "ColumnType": "System.Double, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "varchar",
      "MaxLength": -1,
      "Name": "本次使用",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "实际含量",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "待发货数量",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "待发货辅计量数量",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "待入库数量",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "待入库辅计量数量",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "可用数量",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "fAvaNum",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "fDisableQuantity",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "fDisableNum",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "冻结数量",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "冻结件数",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "cInvName",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "cInvStd",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "cWhName",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    }
  ],
  "ExternalDatabaseInfo": {
    "AllowModifySchema": true,
    "ConnectionId": "pld",
    "SourceTableName": "净可用库存",
    "SourceTableSchema": "dbo",
    "CreateViewSql": "SELECT   a.cBatch, a.cWhCode, a.dVDate, a.cInvCode, CAST(a.iQuantity - ISNULL(a.fStopQuantity, 0) - ISNULL(b.合计占用, 0) \r\n                AS decimal(18, 4)) AS iquantity, a.AutoID, CASE WHEN isnull(a.iNum, 0) = '0' THEN '0' WHEN isnull(a.iNum, 0) > '0' AND \r\n                (a.iQuantity - isnull(fStopQuantity, 0)) > '0' THEN CAST(((a.iQuantity - isnull(fStopQuantity, 0)) - ISNULL(b.合计占用, 0)) \r\n                / (a.iQuantity - isnull(fStopQuantity, 0)) * isnull(a.iNum, 0) AS decimal(18, 4)) END AS inum, \r\n                CAST(a.iQuantity - ISNULL(a.fStopQuantity, 0) AS decimal(18, 4)) AS 实际库存, CAST(ISNULL(a.iNum, 0) AS decimal(18, 4)) \r\n                AS 实际件数, ISNULL(b.合计占用, 0) AS 合计占用, '0' AS 本次使用, CASE WHEN isnull(a.iNum, 0) \r\n                <= '0' THEN '1' WHEN isnull(a.iNum, 0) > '0' THEN CAST((a.iQuantity - isnull(fStopQuantity, 0)) / a.iNum AS decimal(18, \r\n                4)) END AS 实际含量, a.fOutQuantity AS 待发货数量, a.fOutNum AS 待发货辅计量数量, a.fInQuantity AS 待入库数量, \r\n                a.fInNum AS 待入库辅计量数量, a.fAvaQuantity AS 可用数量, a.fAvaNum, a.fDisableQuantity, a.fDisableNum, \r\n                a.fStopQuantity AS 冻结数量, a.fStopNum AS 冻结件数, i.cInvName, i.cInvStd, w.cWhName\r\nFROM      UFDATA_800_2018.dbo.CurrentStock AS a LEFT OUTER JOIN\r\n                dbo.锁定库存汇总 AS b ON a.cInvCode = b.CINVCODE AND a.cBatch = b.CBATCH AND \r\n                a.cWhCode = b.cwhcode LEFT OUTER JOIN\r\n                UFDATA_800_2018.dbo.Inventory AS i ON a.cInvCode = i.cInvCode LEFT OUTER JOIN\r\n                UFDATA_800_2018.dbo.Warehouse AS w ON a.cWhCode = w.cWhCode\r\nWHERE   (a.cWhCode IN\r\n                    (SELECT   cWhCode\r\n                     FROM      dbo.PLD可用仓库)) AND (CAST(a.iQuantity - ISNULL(a.fStopQuantity, 0) AS decimal(18, 4)) >= '0')",
    "ViewInfo": {
      "ViewName": "净可用库存",
      "IsUpdatable": true,
      "QueryColumns": []
    }
  },
  "Indexes": [],
  "Relations": [
    {
      "PrimarySchema": null,
      "PrimaryTable": "inventory",
      "PrimaryColumn": "cInvCode",
      "ForeignSchema": null,
      "ForeignTable": "净可用库存",
      "ForeignColumn": "cInvCode",
      "RelationTypeOnDelete": 0,
      "RelationTypeOnUpdate": 0,
      "IsDetailTableRelation": false
    }
  ]
}