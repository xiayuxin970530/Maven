{
  "Name": "齐套需求明细",
  "Columns": [
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "成品",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "tinyint",
      "MaxLength": -1,
      "Name": "BomType",
      "ColumnType": "System.Byte, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "成品名",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "成品编码",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "成品规格",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "int",
      "MaxLength": -1,
      "Name": "成品版本",
      "ColumnType": "System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "datetime",
      "MaxLength": -1,
      "Name": "成品有效日期",
      "ColumnType": "System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "子件编码",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "子件分子",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "子件分母",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "float",
      "MaxLength": -1,
      "Name": "子件用量",
      "ColumnType": "System.Double, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "float",
      "MaxLength": -1,
      "Name": "需求数",
      "ColumnType": "System.Double, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "末级物料编码",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "类型",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    }
  ],
  "ExternalDatabaseInfo": {
    "ConnectionId": "pld",
    "SourceTableName": "齐套需求明细",
    "SourceTableSchema": "dbo",
    "CreateViewSql": "SELECT  a.存货编码 AS 成品, b.BomType, b.InvName AS 成品名, b.InvCode AS 成品编码, b.InvStd AS 成品规格, \r\n                   b.Version AS 成品版本, b.VersionEffDate AS 成品有效日期, c.InvCode AS 子件编码, c.BaseQtyD AS 子件分子, \r\n                   c.BaseQtyN AS 子件分母, a.数量 * c.BaseQtyN / c.BaseQtyD AS 子件用量, CASE WHEN b2.InvCode IS NULL \r\n                   THEN a.[数量] * c.BaseQtyN / c.BaseQtyD WHEN b2.InvCode IS NOT NULL \r\n                   THEN a.[数量] * c.BaseQtyN / c.BaseQtyD * c2.BaseQtyN / c2.BaseQtyD END AS 需求数, CASE WHEN b2.InvCode IS NULL \r\n                   THEN c.InvCode WHEN b2.InvCode IS NOT NULL THEN c2.InvCode END AS 末级物料编码, a.类型\r\nFROM      dbo.物料齐套分析 AS a LEFT OUTER JOIN\r\n                   UFDATA_800_2018.dbo.v_BOM_BomParent AS b ON a.存货编码 = b.InvCode AND ISNULL(a.BOM版本, 1) = b.BomType AND\r\n                    a.替代bomid IS NULL OR\r\n                   a.替代bomid IS NOT NULL AND a.替代bomid = b.BomId LEFT OUTER JOIN\r\n                   UFDATA_800_2018.dbo.v_bom_opcomponent_rpt AS c ON b.BomId = c.BomId LEFT OUTER JOIN\r\n                   UFDATA_800_2018.dbo.v_BOM_BomParent AS b2 ON c.InvCode = b2.InvCode AND b2.BomType = '1' LEFT OUTER JOIN\r\n                   UFDATA_800_2018.dbo.v_bom_opcomponent_rpt AS c2 ON b2.BomId = c2.BomId\r\nWHERE   (b.BomId IS NOT NULL) AND (ISNULL(a.类型, N'配料') = '配料')",
    "ViewInfo": {
      "ViewName": "齐套需求明细",
      "IsUpdatable": true,
      "QueryColumns": []
    }
  },
  "Indexes": [],
  "Relations": []
}