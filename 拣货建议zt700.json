{
  "Name": "拣货建议zt700",
  "Columns": [
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "标识",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "PICKID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "dlcinvcod",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "拣货总数",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "cBatch",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "cPosCode",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "cPosName",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "float",
      "MaxLength": -1,
      "Name": "iQuantity",
      "ColumnType": "System.Double, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "cwhcode",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "varchar",
      "MaxLength": -1,
      "Name": "cDLCode",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "varchar",
      "MaxLength": -1,
      "Name": "客户编码",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "code",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "carcode",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "datetime",
      "MaxLength": -1,
      "Name": "pdate",
      "ColumnType": "System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "varchar",
      "MaxLength": -1,
      "Name": "客户名称",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "int",
      "MaxLength": -1,
      "Name": "批次计数",
      "ColumnType": "System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "int",
      "MaxLength": -1,
      "Name": "货位计数",
      "ColumnType": "System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "已下达任务",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "未下达余额",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "现存量",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "ztcode",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "float",
      "MaxLength": -1,
      "Name": "货位总数",
      "ColumnType": "System.Double, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "float",
      "MaxLength": -1,
      "Name": "货位总占用",
      "ColumnType": "System.Double, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "货位实际库存",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "冻结数量",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    }
  ],
  "ExternalDatabaseInfo": {
    "ConnectionId": "pld",
    "SourceTableName": "拣货建议zt700",
    "SourceTableSchema": "dbo",
    "CreateViewSql": "SELECT  CAST(a.PICKID AS nvarchar) + CAST(a.dlcinvcod AS nvarchar) + CAST(a.cwhcode AS nvarchar) \r\n                   + CAST(a.ztcode AS nvarchar) AS 标识, a.PICKID, a.dlcinvcod, CAST(a.拣货总数 AS decimal(18, 4)) AS 拣货总数, b.cBatch, \r\n                   b.cPosCode, b.cPosName, ISNULL(b.iQuantity, 0) - ISNULL(st.fStopQuantity, 0) AS iQuantity, a.cwhcode, \r\n                   '发货单编码' AS cDLCode, '客户编码' AS 客户编码, a.code, a.carcode, a.pdate, '客户名称' AS 客户名称, 1 AS 批次计数, \r\n                   1 AS 货位计数, ISNULL(c.已下达任务, 0) AS 已下达任务, CAST(a.拣货总数 - ISNULL(c.已下达任务, 0) AS decimal(18, 4)) \r\n                   AS 未下达余额, ISNULL(b.iQuantityold, 0) AS 现存量, a.ztcode, ISNULL(cc.货位总数, 0) AS 货位总数, \r\n                   ISNULL(cc.货位总占用, 0) AS 货位总占用, ISNULL(cc.货位实际库存, 0) AS 货位实际库存, ISNULL(st.fStopQuantity, 0) \r\n                   AS 冻结数量\r\nFROM      dbo.拣货汇总zt700 AS a LEFT OUTER JOIN\r\n                       (SELECT  autoid, cWhCode, cWhName, cPosCode, cPosName, cInvCode, cBatch, cvmivencode, cvmivenname, dMDate, \r\n                                           iMassDate, cMassUnit, cMassUnitName, dVDate, iQuantityold, iQuantity, 现存量, iNum, cInvAddCode, \r\n                                           cInvName, cFree1, cFree2, cFree3, cFree4, cFree5, cFree6, cFree7, cFree8, cFree9, cFree10, 有效期推算方式, \r\n                                           有效期至, cInvStd, cInvCCode, cInvCName, 已下达任务, 货位实际可用, 批次净可用, 货位占用, \r\n                                           ZTCODE\r\n                        FROM       dbo.货位存量表zt700\r\n                        WHERE    (iQuantityold > '0')) AS b ON a.dlcinvcod = b.cInvCode AND a.cwhcode = b.cWhCode AND \r\n                   b.ZTCODE = a.ztcode LEFT OUTER JOIN\r\n                       (SELECT  cWhCode, cPosCode, cInvCode, SUM(货位实际可用) - MAX(货位占用) AS 货位总数, MAX(货位占用) \r\n                                           AS 货位总占用, SUM(货位实际可用) AS 货位实际库存\r\n                        FROM       dbo.货位存量表zt700 AS 货位存量表_1\r\n                        WHERE    (iQuantityold > '0')\r\n                        GROUP BY cWhCode, cPosCode, cInvCode) AS cc ON b.cWhCode = cc.cWhCode AND b.cPosCode = cc.cPosCode AND \r\n                   b.cInvCode = cc.cInvCode LEFT OUTER JOIN\r\n                   dbo.任务绑定汇总 AS c ON a.标识 = c.标识 LEFT OUTER JOIN\r\n                   UFDATA_700_2020.dbo.CurrentStock AS st ON a.dlcinvcod = st.cInvCode AND b.cBatch = st.cBatch AND a.ztcode = 'ZT700'",
    "ViewInfo": {
      "ViewName": "拣货建议zt700",
      "IsUpdatable": true,
      "QueryColumns": []
    }
  },
  "Indexes": [],
  "Relations": [
    {
      "PrimarySchema": null,
      "PrimaryTable": "inventory",
      "PrimaryColumn": "cInvCode",
      "ForeignSchema": null,
      "ForeignTable": "拣货建议zt700",
      "ForeignColumn": "dlcinvcod",
      "RelationTypeOnDelete": 0,
      "RelationTypeOnUpdate": 0,
      "IsDetailTableRelation": false
    }
  ]
}