{
  "Name": "包材物料差异查询",
  "Columns": [
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "MoCode",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "int",
      "MaxLength": -1,
      "Name": "SortSeq",
      "ColumnType": "System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "Required": true,
      "DatabaseColumnType": "int",
      "MaxLength": -1,
      "Name": "MoDId",
      "ColumnType": "System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "生产计划数",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "IssQty",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "nvarchar",
      "MaxLength": -1,
      "Name": "InvCode",
      "ColumnType": "System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "QualifiedInQty",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "BaseQtyD",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "BaseQtyN",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "入库实际用量",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "量差",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon",
      "DatabaseColumnType": "decimal",
      "MaxLength": -1,
      "Name": "量差比",
      "ColumnType": "System.Decimal, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    }
  ],
  "ExternalDatabaseInfo": {
    "ConnectionId": "pld",
    "SourceTableName": "包材物料差异查询",
    "SourceTableSchema": "dbo",
    "CreateViewSql": "SELECT  c.MoCode, a.SortSeq, a.MoDId, a.Qty AS 生产计划数, b.IssQty, b.InvCode, a.QualifiedInQty, b.BaseQtyD, b.BaseQtyN, \r\n                   a.QualifiedInQty * b.BaseQtyD / b.BaseQtyN AS 入库实际用量, \r\n                   a.QualifiedInQty * b.BaseQtyD / b.BaseQtyN - b.IssQty AS 量差, ABS(ISNULL(a.QualifiedInQty, 0) / a.Qty - '1') \r\n                   AS 量差比\r\nFROM      UFDATA_800_2018.dbo.mom_orderdetail AS a LEFT OUTER JOIN\r\n                   UFDATA_800_2018.dbo.mom_moallocate AS b ON a.MoDId = b.MoDId LEFT OUTER JOIN\r\n                   UFDATA_800_2018.dbo.mom_order AS c ON a.MoId = c.MoId\r\nWHERE   (b.InvCode LIKE '02%') AND (a.InvCode LIKE '01%') AND (a.Status = '3') AND (a.Qty <> ISNULL(a.QualifiedInQty, 0)) AND \r\n                   (ABS(ISNULL(a.QualifiedInQty, 0) / a.Qty - '1') <= '0.1') AND (ISNULL(a.QualifiedInQty, 0) > '0') AND \r\n                   (a.QualifiedInQty * b.BaseQtyD / b.BaseQtyN - b.IssQty > '0')",
    "ViewInfo": {
      "ViewName": "包材物料差异查询",
      "IsUpdatable": true,
      "QueryColumns": []
    }
  },
  "Indexes": [],
  "Relations": [
    {
      "PrimarySchema": null,
      "PrimaryTable": "inventory",
      "PrimaryColumn": "cInvCode",
      "ForeignSchema": null,
      "ForeignTable": "包材物料差异查询",
      "ForeignColumn": "InvCode",
      "RelationTypeOnDelete": 0,
      "RelationTypeOnUpdate": 0,
      "IsDetailTableRelation": false
    }
  ]
}